
% sBoxFix.m

% Constants
global ts;

center = 0;

% Format: {time, visStim} 
%          [Mode, K0, K1, K2]
visStim0 = [0, 90,  0, center];
visStimN = [1, 0,  -3, center];
LaserOn  = '0000';
olf1 = '00ff';
olf2 = '00ff';
olf3 = '0000';
olfOff = '0000';
LaserOff = '0000';



histogramBounds = [5,1*120;1*120+5,2*120+5;...
                   2*120+10,3*120+10;3*120+15,4*120+15;...
                   4*120+20,5*120+20;5*120+25,6*120+25;...
                   6*120+30,7*120+30;7*120+35,8*120+35;...            
                   ];
colorsOff = 'ardSetColors(0,0);';
colorsOn =  'ardSetColors(0,4);';


trialStructureList = [...
    {0,         visStimN,           LaserOff, olfOff, olfOff, olfOff,        ''};...     %nb. First line is initial settingss
    {1*120,     [0,randi(360),0,0], LaserOff, olfOff, olfOff, olfOff, colorsOff};...
    {1*120+5,   visStimN,           LaserOff, olfOff, olfOff, olfOff,  colorsOn};...
    {2*120+5,   [0,randi(360),0,0], LaserOff, olfOff, olfOff, olfOff, colorsOff};...
    {2*120+10,  visStimN,           LaserOff,   olf1, olfOff, olfOff,  colorsOn};...
    {3*120+10,  [0,randi(360),0,0], LaserOff, olfOff, olfOff, olfOff, colorsOff};...
    {3*120+15,  visStimN,           LaserOff,   olf1, olfOff, olfOff,  colorsOn};...
    {4*120+15,  [0,randi(360),0,0], LaserOff, olfOff, olfOff, olfOff, colorsOff};...
    {4*120+20,  visStimN,           LaserOff, olfOff,   olf2, olfOff,  colorsOn};...
    {5*120+20,  [0,randi(360),0,0], LaserOff, olfOff, olfOff, olfOff, colorsOff};...
    {5*120+25,  visStimN,           LaserOff, olfOff,   olf2, olfOff,  colorsOn};...
    {6*120+25,  [0,randi(360),0,0], LaserOff, olfOff, olfOff, olfOff, colorsOff};...
    {6*120+30,  visStimN,           LaserOff, olfOff, olfOff, olfOff,  colorsOn};...
    {7*120+30,  [0,randi(360),0,0], LaserOff, olfOff, olfOff, olfOff, colorsOff};...
    {7*120+35,  visStimN,           LaserOff, olfOff, olfOff, olfOff,  colorsOn};...
    {8*120+35,  [0,randi(360),0,0], LaserOff, olfOff, olfOff, olfOff, colorsOff};...
    {8*120+40,  visStimN,           LaserOff, olfOff, olfOff, olfOff,  colorsOn};...
    ];

    