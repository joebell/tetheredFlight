% batchAnalyzeRotationStrip.m

clear all;

settings = tfSettings();

comment = 'progWide   0-2   LP @ 225e';
fileList = {[settings.dataDir,'RTTF110119-181619.mat'], ...
    [settings.dataDir,'RTTF110119-181937.mat'], ...
    [settings.dataDir,'RTTF110119-183853.mat'], ...



    };

% comment = 'progWidePatterns c3c3';
% fileList = {'../Data/RTTF101105-120142.mat', ...
%     '../Data/RTTF101105-133925.mat', ...
%     '../Data/RTTF101105-112304.mat', ...
%     };

% comment = 'progWidePatterns 3c3c';
% fileList = {'../Data/RTTF101105-132035.mat', ...
%     '../Data/RTTF101105-140737.mat', ...
%     '../Data/RTTF101105-144124.mat', ...
%     };

% comment = 'progDiscPatterns 3c3c';
% fileList = {'../Data/RTTF101108-141824.mat', ...
%     '../Data/RTTF101108-150007.mat', ...
%     '../Data/RTTF101108-155251.mat', ...
%     '../Data/RTTF101108-163233.mat', ...
%     };

% comment = 'progDiscPatterns c3c3';
% fileList = {'../Data/RTTF101108-172013.mat', ...
% 
%     };

% comment = 'progHiLowBoxes c3c3';
% fileList = {'../Data/RTTF101109-102704.mat', ...
%     '../Data/RTTF101109-110331.mat', ...
%     };
% 
% comment = 'torqueMode Display OFF';
% fileList = {'../Data/RTTF101109-112942.mat', ...
%     '../Data/RTTF101109-133838.mat', ...
%     '../Data/RTTF101109-134753.mat', ...
%     '../Data/RTTF101109-135630.mat', ...
%     '../Data/RTTF101109-140524.mat', ...
%     '../Data/RTTF101109-141413.mat', ...
%     '../Data/RTTF101109-142515.mat', ...
%     '../Data/RTTF101109-150334.mat', ...
%     '../Data/RTTF101109-151705.mat', ...
%     '../Data/RTTF101109-152956.mat', ...
%     '../Data/RTTF101109-153858.mat', ...
%     '../Data/RTTF101110-105457.mat', ...
%     '../Data/RTTF101110-110402.mat', ...
%     };

% comment = 'torqueMode Display ON';
% fileList = {'../Data/RTTF101109-154728.mat', ...
%     '../Data/RTTF101109-155604.mat', ...
%     '../Data/RTTF101109-160441.mat', ...
%     '../Data/RTTF101109-161343.mat', ...    
%     };

plotsPerPage = 3;
numFiles = size(fileList,2);
for file=1:numFiles    
    
    page = ceil(file/plotsPerPage);
    figure(page);
    slot = mod(file-1,plotsPerPage)+1;
    if slot == 1
        myComment = comment;
    else 
        myComment = '';
    end
    myAxis = subplot(plotsPerPage,1,slot);
    analyzeRotationStrip(fileList{file},myComment,myAxis);
    
end

for page = 1:ceil(numFiles/plotsPerPage)
    figure(page);
    
        set(gcf, 'Color', 'white');
        set(gcf, 'InvertHardcopy','off');
        set(gcf,'Units','pixels');
        scnsize = get(0,'ScreenSize');
        set(gcf,'Position',[1 1 scnsize(3) scnsize(4)]);
        set(gcf, 'PaperUnits', 'inches');
        set(gcf, 'PaperSize', [11 8.5])
        set(gcf, 'PaperPosition', [0 0 11 8.5]);
        if (page > 1)
            filenameOut = [settings.dataDir,'Batch-',comment,' p',num2str(page),'.pdf'];  
        else
            filenameOut = [settings.dataDir,'Batch-',comment,'.pdf'];  
        end
        print(gcf, '-dpdf',filenameOut);
end